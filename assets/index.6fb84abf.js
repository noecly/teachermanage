import{_ as z,S as T,r as D,a as b,o as I,T as M,c as x,b as r,d as o,w as l,t as S,u as H,p as V,e as W,f as u,g as k,h as N,F,i as P,j as R}from"./index.5b4e9081.js";import{G}from"./api.09cb8fde.js";const q={components:{ShowCases:T},setup(){const e=D({name:"",cprimarycourse:0,csecondarycourse:0,cassistantNcourse:0,cassistantWcourse:0,csubsidies:0,total:0}),s=b([]);I(()=>{const d=new Date,v=b("");v.value=`${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}`,G(v.value).then(c=>{s.value=c;for(var _=0,h=0,m=0,y=0,a=0;a<s.value.length;a++){for(var n=0,p=0,g=0,f=0,C=0,i=0;i<s.value[a].course.length;i++)n=n+s.value[a].course[i].cprimarycourse,p=p+s.value[a].course[i].csecondarycourse,g=g+s.value[a].course[i].cassistantNcourse,f=f+s.value[a].course[i].cassistantWcourse,C=C+s.value[a].course[i].csubsidies;_=_+n*s.value[a].tprimarycourseprice,h=h+p*s.value[a].tsecondarycourseprice,m=m+g*s.value[a].tassistantcourseNprice,y=y+f*s.value[a].tassistantcourseWprice,e.cprimarycourse=e.cprimarycourse+n,e.csecondarycourse=e.csecondarycourse+p,e.cassistantNcourse=e.cassistantNcourse+g,e.cassistantWcourse=e.cassistantWcourse+f,e.csubsidies=e.csubsidies+C,e.total=_+h+m+y+e.csubsidies}}).catch(c=>{M(c.response.data.detail)})});const w=H();return{cases:e,courseList:s,routerPushLink:(d,v)=>{w.push({path:"/teaccherdetail",query:{teacherID:d,tnikename:v}})},onLogout:()=>{sessionStorage.clear(),localStorage.clear(),w.push({path:"/login"})}}}},L=e=>(V("data-v-7a67f34a"),e=e(),W(),e),E={class:"navBarMian"},Y=L(()=>r("div",{style:{color:"#ee0a24"}}," \u9000\u51FA ",-1)),$={class:"indexViewContainer"},A={class:"showCasesHeader"},J=L(()=>r("div",{class:"showCasesHeaderTitle"},"\u672C\u6708\u603B\u89C8",-1)),K={class:"showCasesHeaderNum"},O={class:"totalCard"},Q={class:"courseSwiper"},U=L(()=>r("div",{class:"showCasesHeaderTitle"},"\u6559\u5E08\u603B\u89C8",-1)),X={class:"courseSwiperBody"};function Z(e,s,w,t,B,d){const v=u("van-nav-bar"),c=u("van-cell"),_=u("van-tag"),h=u("van-cell-group"),m=u("ShowCases"),y=u("van-swipe-item"),a=u("van-swipe");return k(),x("div",null,[r("div",E,[o(v,{title:"\u9996\u9875",onClickRight:t.onLogout},{right:l(()=>[Y]),_:1},8,["onClickRight"])]),r("div",$,[r("div",A,[J,r("div",K," \u9884\u8BA1\u652F\u51FA\uFF1A"+S(e.$filters.formatMoney(t.cases.total)),1)]),r("div",O,[o(h,{inset:""},{default:l(()=>[o(c,{title:"\u957F\u8BFE\u65F6",value:t.cases.cprimarycourse,size:"large"},null,8,["value"]),o(c,{title:"\u77ED\u8BFE\u65F6",value:t.cases.csecondarycourse,size:"large"},null,8,["value"]),o(c,{title:"\u52A9\u6559",size:"large"},{value:l(()=>[o(_,{size:"medium",style:{"margin-right":"3px"},type:"primary"},{default:l(()=>[N("\u5468\u5185\uFF1A"+S(t.cases.cassistantNcourse),1)]),_:1}),o(_,{size:"medium",type:"danger"},{default:l(()=>[N("\u5468\u672B\uFF1A"+S(t.cases.cassistantWcourse),1)]),_:1})]),_:1}),o(c,{title:"\u8F66\u8865",value:e.$filters.formatMoney(t.cases.csubsidies),size:"large"},null,8,["value"])]),_:1})]),r("div",Q,[U,r("div",X,[o(a,{class:"my-swipe",autoplay:1e4,"indicator-color":"#ee0a24"},{default:l(()=>[(k(!0),x(F,null,P(t.courseList,(n,p)=>(k(),R(y,{key:p},{default:l(()=>[o(m,{cases:n,class:"courseSwiperBodyLast",onClick:g=>t.routerPushLink(n.id)},null,8,["cases","onClick"])]),_:2},1024))),128))]),_:1})])])])])}var se=z(q,[["render",Z],["__scopeId","data-v-7a67f34a"]]);export{se as default};
