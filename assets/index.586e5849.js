import{_ as z,S as T,r as D,a as M,o as I,T as O,c as x,b as r,d as t,w as u,t as b,u as W,p as H,e as V,f as l,g as k,h as N,F,i as P,j as R}from"./index.cc66909b.js";import{S as G}from"./ShowCasesWatch.be892b84.js";import{G as q}from"./api.ddf538c9.js";const E={components:{ShowCases:T,ShowCasesWatch:G},setup(){const e=D({name:"",cprimarycourse:0,csecondarycourse:0,cassistantNcourse:0,cassistantWcourse:0,csubsidies:0,subOrSumMoney:0,total:0}),s=M({});I(()=>{const d=new Date,v=M("");v.value=`${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}`,q(v.value).then(c=>{s.value=c;for(var _=0,m=0,h=0,y=0,a=0;a<s.value.length;a++){for(var i=0,p=0,g=0,f=0,S=0,C=0,n=0;n<s.value[a].course.length;n++)i=i+s.value[a].course[n].cprimarycourse,p=p+s.value[a].course[n].csecondarycourse,g=g+s.value[a].course[n].cassistantNcourse,f=f+s.value[a].course[n].cassistantWcourse,S=S+s.value[a].course[n].csubsidies,C=C+s.value[a].course[n].subOrSumMoney;_=_+i*s.value[a].tprimarycourseprice,m=m+p*s.value[a].tsecondarycourseprice,h=h+g*s.value[a].tassistantcourseNprice,y=y+f*s.value[a].tassistantcourseWprice,e.cprimarycourse=e.cprimarycourse+i,e.csecondarycourse=e.csecondarycourse+p,e.cassistantNcourse=e.cassistantNcourse+g,e.cassistantWcourse=e.cassistantWcourse+f,e.csubsidies=e.csubsidies+S,e.subOrSumMoney=e.subOrSumMoney+C,e.total=_+m+h+y+e.csubsidies+e.subOrSumMoney}}).catch(c=>{O(c.response.data.detail)})});const w=W();return{cases:e,courseList:s,routerPushLink:(d,v)=>{w.push({path:"/teaccherdetail",query:{teacherID:d,tnikename:v}})},onLogout:()=>{sessionStorage.clear(),localStorage.clear(),w.push({path:"/login"})}}}},L=e=>(H("data-v-3ef0177c"),e=e(),V(),e),Y={class:"navBarMian"},$=L(()=>r("div",{style:{color:"#ee0a24"}}," \u9000\u51FA ",-1)),A={class:"indexViewContainer"},J={class:"showCasesHeader"},K=L(()=>r("div",{class:"showCasesHeaderTitle"},"\u672C\u6708\u603B\u89C8",-1)),Q={class:"showCasesHeaderNum"},U={class:"totalCard"},X={class:"courseSwiper"},Z=L(()=>r("div",{class:"showCasesHeaderTitle"},"\u6559\u5E08\u603B\u89C8",-1)),j={class:"courseSwiperBody"};function ee(e,s,w,o,B,d){const v=l("van-nav-bar"),c=l("van-cell"),_=l("van-tag"),m=l("van-cell-group"),h=l("ShowCases"),y=l("van-swipe-item"),a=l("van-swipe");return k(),x("div",null,[r("div",Y,[t(v,{title:"\u9996\u9875",onClickRight:o.onLogout},{right:u(()=>[$]),_:1},8,["onClickRight"])]),r("div",A,[r("div",J,[K,r("div",Q," \u9884\u8BA1\u652F\u51FA\uFF1A"+b(e.$filters.formatMoney(o.cases.total)),1)]),r("div",U,[t(m,{inset:""},{default:u(()=>[t(c,{title:"\u957F\u8BFE\u65F6",value:o.cases.cprimarycourse,size:"large"},null,8,["value"]),t(c,{title:"\u77ED\u8BFE\u65F6",value:o.cases.csecondarycourse,size:"large"},null,8,["value"]),t(c,{title:"\u52A9\u6559",size:"large"},{value:u(()=>[t(_,{size:"medium",style:{"margin-right":"3px"},type:"primary"},{default:u(()=>[N("\u5468\u5185\uFF1A"+b(o.cases.cassistantNcourse),1)]),_:1}),t(_,{size:"medium",type:"danger"},{default:u(()=>[N("\u5468\u672B\uFF1A"+b(o.cases.cassistantWcourse),1)]),_:1})]),_:1}),t(c,{title:"\u8F66\u8865",value:e.$filters.formatMoney(o.cases.csubsidies),size:"large"},null,8,["value"])]),_:1})]),r("div",X,[Z,r("div",j,[t(a,{class:"my-swipe",autoplay:1e4,"indicator-color":"#ee0a24"},{default:u(()=>[(k(!0),x(F,null,P(o.courseList,(i,p)=>(k(),R(y,{key:p},{default:u(()=>[t(h,{cases:i,class:"courseSwiperBodyLast",onClick:g=>o.routerPushLink(i.id)},null,8,["cases","onClick"])]),_:2},1024))),128))]),_:1})])])])])}var te=z(E,[["render",ee],["__scopeId","data-v-3ef0177c"]]);export{te as default};
